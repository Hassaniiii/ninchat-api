digraph Entities {
	rankdir=RL;
	bgcolor=transparent;
	node [fontname=Verdana fontsize=14 shape=Mrecord];
	edge [fontname=Verdana fontsize=13];
	Identity [label="Identity|Type\nName\nAuth token\nAttributes"];
	Identity -> User [label="Verified\n0..1"];
	Identity -> User [label="Unverified\n0..N"];
	Realm [label="Realm|Identifier\nAttributes"];
	Realm -> User [label="Owner"];
	Realm -> RealmMember [label="0..N"];
	RealmMember [label="Realm membership|Attributes"];
	RealmMember -> User;
	Channel [label="Channel|Identifier\nAttributes"];
	Channel -> User [label="Owner"];
	Channel -> ChannelMember [label="0..N"];
	Channel -> Message [label="0..N"];
	Channel -> Realm [label="0..1"];
	ChannelMember [label="Channel membership|Attributes"];
	ChannelMember -> User;
	User [label="User|Identifier\nAuth token\nAttributes\nSettings"];
	User -> Identity [label="0..N"];
	Message [label="Message|Identifier\nTime\nType\nData"];
	Message -> User [label="Author"];
	Dialogue [label="Dialogue"];
	Dialogue -> DialogueMember [label="2"];
	Dialogue -> Message [label="0..N"];
	DialogueMember [label="Dialogue membership|Attributes"];
	DialogueMember -> User;
	ChannelAccess [label="Channel invite"];
	ChannelAccess -> Channel;
	ChannelAccess -> User [label="Invitee\n0..1"];
	ChannelAccess -> User [label="Creator"];
	IdentityVerifyAccess [label="Pending identity verification"];
	IdentityVerifyAccess -> Identity;
	IdentityAuthResetAccess [label="Pending identity auth reset"];
	IdentityAuthResetAccess -> Identity;
	SessionAccess [label="Session creation token"];
	SessionAccess -> User [label="Login"];
	Access [label="Access|Key\nExpiration"];
	Access -> SessionAccess [label="0..1"];
	Access -> ChannelAccess [label="0..1"];
	Access -> IdentityVerifyAccess [label="0..1"];
	Access -> IdentityAuthResetAccess [label="0..1"];
}
